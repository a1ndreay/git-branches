# Test branches project
---
<a href="https://t.me/a1ndreay">
  <img src="https://icon-icons.com/icons2/2108/PNG/512/telegram_icon_130816.png" alt="Telegram" width="25" height="25">
</a>

### Simple project for testing __git__ branches

### Используйте `git diff <Назввание 1 ветки> <Название 2 ветки>` для сравнения веток
> [!Tip]
> Так же можно использовать `git diff <Название ветки> <Название коммита>` для сравнения ветки с коммитом


## Переключение между ветками:
#### Чтобы создать ветку введите `git branch <Название ветки>`, к примеру `git branch feature/new-branch-info`
#### Команда `git branch` показывает все доступные ветки
#### Чтобы переключить ветку `git checkout <Название ветки>`
> [!TIP]
> Чтобы просмотреть все ветки, в том числе удалённые, воспользуйтесь `git branch -a`


## Удаление локальных веток
#### Чтобы удалить локальную ветку воспользуйтесь `git branch -d <Название_ветки>`, этой командой следует воспользоваться, если удаляемая ветка уже была влита в текущую актуальную ветку. Иначе воспользуйтесь `git branch -D <Название_ветки>`, эта команда удалит ветку независимо от того, является ли она уже объединённой в актуальную ветку или нет.

## Клонирование удалённого репозитория:
#### Удалённый репозиторий клонируется на локальный компьютер при помощи `git clone git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_РЕПОЗИТОРИЯ%.git`


## Связывание локального и удалённого репозитория:
#### Чтобы связать локальный и удалённый репозитории `git remote add origin git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_РЕПОЗИТОРИЯ%.git`
> [!WARNING]
> Перед связыванием проверьте не связан ли уже локальный репозиторий с удалённым при помощи `git remote -v`, если команда выведет пустые строки, значит можете связывать локальный репозиторий с удалённым. Иначе удалите текущую свзяь при помощи `git remote rm origin` и выполните привязку заного.


## Связывание локальной и удалённой веток:
#### Чтобы отправить в удалённый репозиторий новую ветку `git push -u origin <Название ветки>`
#### *Данная команда отправляет текущую ветку в удалённый репозиторий и сразу же связывает её с локальной веткой*
> [!WARNING]
> Ветка с таким именем не должна существовать в удалённом репозитории, этой командой вы отправляете и связываете локальную ветку на удалённый репозиторий.


## __Алгоритм работы на локальной ветке__
#### *Так как остальные разработчики вливают изменения в ветку __main__, перед созданием пул-реквеста __необходимо__ перейти в главную актуальную ветку, стянуть в неё все изменения с удалённого репозитория, перейти в вашу локальную ветку и выполнить в неё __merge__ ветки __main__ чтобы заранее устранить всевозможные конфликты самим!*
```bash
$ git checkout main # перешли в main
$ git pull # подтянули новые изменения в main
$ git checkout my-branch # вернулись в рабочую ветку my-branch
$ git merge main # влили main в новую ветку my-branch
$ git push -u origin my-branch # отправили ветку my-branch в удалённый репозиторий
```

## Стягивание изменений:
#### Изменения из удалённого репозитория стягиваются с помощью `git pull`

## FAST-FORWARD
#### Если при слиянии главная ветка может без конфликтов достичь состояния сливаемой ветки, то применимо слияние `fast-forward`, при таком слиянии исходная ветка будет дополнена коммитами сливаемой ветки, как будто этой ветки и не было.
### Изобразим ветки `main` и `add-docs` схематически:
<img src="https://pictures.s3.yandex.net:443/resources/M4_T2_01_1689342594.png" alt="" crossorigin="anonymous" class="image image_expandable">

#### При таком слиянии, ветку `main` можно довести до состояния ветки `add-docs` дополнив двумя коммитами:
<img src="https://pictures.s3.yandex.net:443/resources/M4_T2_02_1689342662.png" alt="" crossorigin="anonymous" class="image image_expandable">

> [!WARNING]
> При таком слиянии ветка `add-docs` просто совмещается с веткой `main` как будто её и не было.

## MERGE COMMIT
#### Слияние `fast-forward` можно отключить, добавив следующий флаг: `git merge --no-ff <Название_ветки>`, в таком случае в ветке `main` будет создан дополнительный коммит слияния: 
<img src="https://pictures.s3.yandex.net:443/resources/M4_T2_03_1689342784.png" alt="" crossorigin="anonymous" class="image image_expandable">

#### *При таком слиянии будет создан соответствующий коммит:*
```bash
*   6814789 (HEAD -> main) Merge branch 'add-docs'
```
> [!TIP]
> Многие проекты отключают __fast-forward__ слияние веток, потому что при нём теряется часть информации. Результат выглядит так, как будто в `main` «просто появились» новые коммиты. Если не знать о ветке `add-docs`, то можно подумать, что такой ветки и не было.
✍️ *Author: Andrey*
